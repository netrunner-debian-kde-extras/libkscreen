From 31f07fd26e6091dfd37c54fef3352a95182e5bba Mon Sep 17 00:00:00 2001
From: Aleix Pol <aleixpol@kde.org>
Date: Tue, 6 May 2014 15:55:16 +0200
Subject: [PATCH 2/2] Don't crash when printing a null KScreen::Output* from
 qDebug

Reviewed by Alex Fiestas
---
 src/output.cpp | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

diff --git a/src/output.cpp b/src/output.cpp
index acb918f..85e328c 100644
--- a/src/output.cpp
+++ b/src/output.cpp
@@ -425,7 +425,11 @@ void Output::setSizeMm(const QSize &size)
 
 QDebug operator<<(QDebug dbg, const KScreen::Output *output)
 {
-    dbg << "KScreen::Output(Id:" << output->id() <<", Name:" << output->name() << ")";
+    if(output) {
+        dbg << "KScreen::Output(Id:" << output->id() <<", Name:" << output->name() << ")";
+    } else {
+        dbg << "KScreen::Output(NULL)";
+    }
     return dbg;
 }
 
-- 
2.0.0.rc2

